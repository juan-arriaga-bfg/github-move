<scene>
    <view size="fullscreen" layout="center" id="hittest-listener">
        <view size="fullscreen" id="portrait_view">
            <view size="{100%,100%}" layout="center">
                <view size="{@-40,@-70}">
                    <imageview frame="{{0,0},{100%,100%}}" id="background-image-newsletter-signup-portrait" />
                    <!-- Container -->
                    <view frame="{{0,25%},{100%,72%}}" layout="center vertical">
                        
                        <!-- View container for Enter email -->
                        <view size="{@-12%,22%}" hidden="false" layout="center vertical">
                            <view size="{100%,24}">
                                <label class="sub-header-text" size="{100%,100%}" text="BFEnterEmail"
                                textAlignment="left"/>
                            </view>
                            <view size="{100%,46}">
                                <!-- View container for email text field -->
                                <view size="{100%,100%}">
                                    <imageview frame="{{0,0},{100%,100%}" id="email-input-error"
                                        image="Images/portrait-input-error"></imageview>
                                    <imageview frame="{{0,0},{100%,100%}" id="email-input-focused"
                                        image="Images/portrait-input-focus"></imageview>
                                    <imageview frame="{{0,0},{100%,100%}" id="email-input-inactive"
                                        image="Images/portrait-input-empty"></imageview>
                                    <textfield autocapitalizationType="none" autoresizingMask="width"
                                        borderStyle='none' class="sub-header-text"
                                        frame="{{15,8},{80%,30}}" id="signup-email-field"
                                        keyboardType="email-address"></textfield>
                                    <button frame="{{@-30,13},{20,20}}" id="email-clear-text-button"
                                    onTap="clearText" hidden="true"/>
                                </view>
                            </view>
                        </view>
                        
                        <view size="{@-12%,76%}" hidden="false">
                            
                            <!-- Normal appearance -->
                            <view size="{100%,100%}" id="normal-appearance" layout="center vertical" hidden="false">
                                <!-- Spacer -->
                                <view size="{100%,10%}" />
                                <!-- Signup Button -->
                                <view size="{101.25%,50}">
                                    <button id="signup-button" onTap="continueSignUp" size="{100%,100%}"/>
                                    <label frame="{{0,-4},{100%,100%}}" text="BFSignUp" textAlignment="center" class="signup-button-label"/>
                                </view>
                                
                                <!-- Spacer -->
                                <view size="{100%,10%}" />
                                
                                <!-- Privacy text -->
                                <view size="{100%,68%}" layout="center vertical">
                                    <htmllabel class="caption-text" id="account-create-label"
                                    lineBreakMode="word-wrap" numberOfLines="4" size="{100%,50%}"
                                    text="BFAccountCreateMessage" textAlignment="center"/>
                                    <htmllabel class="caption-text" id="privacy-statement-label"
                                    lineBreakMode="word-wrap" numberOfLines="4" size="{100%,50%}"
                                    text="BFTermsAndPrivacy" textAlignment="center"/>
                                </view>
                            </view>
                            
                            <!-- Coppa appearance -->
                            <view size="{100%,100%}" id="coppa-appearance" layout="center vertical" hidden="true">
                                <!-- Spacer -->
                                <view size="{100%,10}" />
                                <!-- Birth year picker -->
                                <view size="{100%,30%}" layout="center vertical">
                                    <view size="{100%,24}">
                                        <label class="sub-header-text" size="{100%,100%}" text="BFPickBirthYear"
                                        textAlignment="left"/>
                                    </view>
                                    <view size="{100%,46}">
                                        <!-- View container for YOB field -->
                                        <view size="{100%,100%}">
                                            <imageview frame="{{0,0},{100%,100%}" id="yob-input-focused"
                                                image="Images/portrait-input-focus"></imageview>
                                            <imageview frame="{{0,0},{100%,100%}" id="yob-input-inactive"
                                                image="Images/portrait-input-empty"></imageview>
                                            <label class="sub-header-text" frame="{{15,11},{@-50,26}}"
                                                id="signup-birthday-label"></label>
                                            <button frame="{{@-29,17},{18,15}}" id="drop-down-button"
                                            onTap="selectBirthYear"/>
                                        </view>
                                    </view>
                                </view>
                                
                                <!-- Spacer -->
                                <view size="{100%,12}" />
                                
                                <!-- Signup Button -->
                                <view size="{101.25%,50}">
                                    <button id="signup-button" onTap="continueSignUp" size="{100%,100%}"/>
                                    <label frame="{{0,-4},{100%,100%}}" text="BFSignUp" textAlignment="center" class="signup-button-label"/>
                                </view>
                                
                                <!-- Spacer -->
                                <view size="{100%,5}" />
                                
                                <!-- Privacy text -->
                                <view size="{100%,41%}" layout="center vertical">
                                    <htmllabel class="caption-text" id="account-create-label"
                                    lineBreakMode="word-wrap" numberOfLines="4" size="{100%,50%}"
                                    text="BFAccountCreateMessage" textAlignment="center"/>
                                    <htmllabel class="caption-text" id="privacy-statement-label"
                                    lineBreakMode="word-wrap" numberOfLines="4" size="{100%,50%}"
                                    text="BFTermsAndPrivacy" textAlignment="center"/>
                                </view>
                            </view>
                            
                            <!-- Newsletter appearance -->
                            <view size="{100%,100%}" id="newsletter-appearance" layout="center vertical" hidden="true">
                                <!-- Spacer -->
                                <view size="{100%,2%}" />
                                
                                <view size="{100%,60}" layout="center horizontal">
                                    
                                    <view layout="center" size="{24,100%}">
                                        <imageview id="newsletter-checkbox-off" image="Images/Buttons/universal-checkbox-empty"
                                        size="{24, 24}"/>
                                        <imageview hidden="true" id="newsletter-checkbox-on" image="Images/Buttons/universal-checkbox-checked"
                                        size="{24, 24}" />
                                    </view>
                                    <!-- Spacer -->
                                    <view size="{5%,100%}" />
                                    <!-- View container for Newsletter Sign Up Dialogue -->
                                    <view size="{80%,100%}">
                                        <label class="newsletter-text"
                                            numberOfLines="4" size="{100%,100%}"
                                            text="RSNewsletterOffer" textAlignment="left"></label>
                                    </view>
                                </view>
                                
                                <!-- Spacer -->
                                <view size="{100%,2%}" />
                                
                                <!-- Signup Button -->
                                <view size="{101.25%,48}">
                                    <button id="signup-button" onTap="continueSignUp" size="{100%,100%}"/>
                                    <label frame="{{0,-4},{100%,100%}}" text="BFSignUp" textAlignment="center" class="signup-button-label"/>
                                </view>
                                
                                <!-- Spacer -->
                                <view size="{100%,3%}" />
                                
                                <!-- Privacy text -->
                                <view size="{100%,41%}" layout="center vertical">
                                    <htmllabel class="caption-text" id="account-create-label"
                                    lineBreakMode="word-wrap" numberOfLines="4" size="{100%,50%}"
                                    text="BFAccountCreateMessage" textAlignment="center"/>
                                    <htmllabel class="caption-text" id="privacy-statement-label"
                                    lineBreakMode="word-wrap" numberOfLines="4" size="{100%,50%}"
                                    text="BFTermsAndPrivacy" textAlignment="center"/>
                                </view>
                            </view>
                        </view>
                    </view>
                    <!-- View container for the invalid error pop-up -->
                    <view layout="center" id="invalid-email-error" frame="{{6.75%,38%},{87.5%,41}}" hidden="true">
                        <view layout="center" size="{100%,100%}">
                            <imageview image="Images/universal-auth-errormsg-1line"
                                size="{102%,100%}"></imageview>
                            <label class="invalid-email-error-label" size="{98%,100%}"
                                numberOfLines="1" text="BFEnterValidEmail" textAlignment="center"></label>
                        </view>
                    </view>
                    <!-- View container for the account-already-exist error pop-up -->
                    <view layout="center" id="account-exists-error" frame="{{6%,38%},{89%,59}}" hidden="true">
                        <view layout="center"
                            size="{100%,100%}">
                            <imageview image="Images/universal-auth-errormsg-2line"
                                size="{100%,100%}"></imageview>
                            <htmllabel class="invalid-email-error-label" size="{98%,80%}"
                                id="account_exists-error-label" numberOfLines="4"
                                text="BFAccountAlreadyAssociated" textAlignment="center" lineBreakMode="word-wrap">
                            <button size="{100%,100%}" onTap="handleSignIn"></button></htmllabel>
                        </view>
                    </view>
                </view>
            </view>
            <!-- Dismiss button -->
            <button frame="{{@-44,20},{40,40}}" onTap="dismissTapped" id="nav-dismiss-button" image="Images/Buttons/universal-nav-close-newsletter" hidden="false"/>
        </view> <!-- End of secondary fullscreen view -->
    </view> <!-- End of main fullscreen-centered view -->
</scene>
